{% extends "base.html" %}

{% block body_class %}list-page kind-home{% endblock body_class %}

{% block content %}
  {% set posts_section = get_section(path="posts/_index.md") %}
  {% set pages = posts_section.pages | sort(attribute="date") | reverse %}

  {% if pages | length > 0 %}
    {% set first = pages | first %}
    <article class="first-entry">
      <header class="entry-header">
        <h1>{{ first.title }}{% if first.draft %}<sup><span class="entry-isdraft">&nbsp;&nbsp;[Draft]</span></sup>{% endif %}</h1>
      </header>
      <section class="entry-content">
        {{ first.summary | safe }}
      </section>
      <footer class="entry-footer">
        <span class="meta-item">{{ first.date | date(format="%B %d, %Y") }}</span>
      </footer>
      <a class="entry-link" aria-label="post link to {{ first.title }}" href="{{ first.permalink }}"></a>
    </article>

    {% for page in pages | slice(start=1) %}
      <article class="post-entry">
        <header class="entry-header">
          <h2>{{ page.title }}{% if page.draft %}<sup><span class="entry-isdraft">&nbsp;&nbsp;[Draft]</span></sup>{% endif %}</h2>
        </header>
        <section class="entry-content">
          {{ page.summary | safe }}
        </section>
        <footer class="entry-footer">
          <span>{{ page.date | date(format="%B %d, %Y") }}</span>
        </footer>
        <a class="entry-link" aria-label="post link to {{ page.title }}" href="{{ page.permalink }}"></a>
      </article>
    {% endfor %}
  {% else %}
    <p>No posts yet.</p>
  {% endif %}
{% endblock content %}
